<!DOCTYPE html>
<html>
  <head>
    <style>body { background-color: black }</style>
  </head>
  <body>
    <div id="canvases"></div>
    <script>
      var minInd = 145;
      var maxInd = 151;//151;
      for(var i = minInd; i <= maxInd; i++) {
        var image = new Image();
        var canvas = document.createElement('canvas');
        document.getElementById('canvases').appendChild(canvas);
        canvas.height = 300;
        canvas.width = 300;
        var context = canvas.getContext('2d');
        image.onload = (function(canvas, context) {
          document.body.appendChild(this);
          var height = this.height;
          var width = this.width;
          var leastDim = Math.min(width, height);
          if(width < height) {
            height = 300 / width * height;
            width = 300;
            startX = 0;
            startY = (300 - height) / 2;
          } else {
            width = 300 / height * width;
            height = 300;
            startX = (300 - width) / 2;
            startY = 0;
          }
          context.translate(startX, startY);
          context.drawImage(this,0,0,width,height);
          document.body.removeChild(this);
          var imgData = canvas.toDataURL();
          canvas.parentElement.removeChild(canvas);
          var a = document.createElement('a');
          a.href = imgData;
          a.download = this.src.match(/photo_[0-9]+/)[0] + '.png';
          a.dispatchEvent(new MouseEvent('click'));
        }).bind(image, canvas, context);
        image.src = "../photos/photo_" + i + ".jpg";
      }
      /* to make logo: */
      // var cvs = document.createElement('canvas'); cvs.style.border = '1px solid white'; cvs.style.position = 'absolute'; cvs.style.top = '19px'; cvs.style.left = '60px'; cvs.width = "103"; cvs.height = "62"; var ctx = cvs.getContext('2d'); document.body.appendChild(cvs); ctx.fillStyle = 'white'; ctx.textAlign = 'right'; ctx.font = 'bold 24px "Open Sans Condensed"'; ctx.fillText('Frank Ginder', 101, 21); ctx.fillText('Photography', 101, 54); var a = document.createElement('a'); a.download = 'img.png'; a.href = cvs.toDataURL('image/png'); a.dispatchEvent(new MouseEvent('click'));
    </script>
  </body>
</html>
